---
import BaseLayout from '../layouts/BaseLayout.astro';
import Breadcrumb from '../components/layout/Breadcrumb.astro';
import Button from '../components/ui/Button.astro';
import Icon from '../components/ui/Icon.astro';
import EmergencyBand from '../components/sections/EmergencyBand.astro';
import { siteConfig } from '../data/site.js';
import { url } from '../utils/url.js';

const breadcrumbs = [
  { name: 'Zones d\'intervention' }
];

const zonesPhysiques = [
  {
    region: 'Oise (60)',
    description: 'Zone principale d\'intervention',
    urgency: true,
    areas: ['Compi√®gne', 'Senlis', 'Chantilly', 'Clermont', 'Beauvais', 'Creil', 'Liancourt', 'Cauffry', 'Nogent-sur-Oise', 'Pont-Sainte-Maxence']
  },
  {
    region: 'Somme (80)',
    description: 'Amiens et environs',
    urgency: true,
    areas: ['Amiens', 'Abbeville', 'Albert']
  },
  {
    region: 'Paris & √éle-de-France',
    description: 'Interventions ponctuelles',
    urgency: false,
    areas: ['Paris', 'Proche banlieue']
  }
];
---

<BaseLayout
  title="Zones d'intervention"
  description="W4S intervient dans l'Oise, √† Amiens et √† Paris pour les services √† domicile. Services digitaux disponibles dans toute la France."
  canonical="/zones"
>
  <section class="section">
    <div class="container-w4s">
      <Breadcrumb items={breadcrumbs} />

      <!-- Header -->
      <div class="text-center max-w-2xl mx-auto mb-12">
        <h1 class="text-h1 font-bold text-w4s-navy mb-4">
          O√π intervenons-nous ?
        </h1>
        <p class="text-body-lg text-w4s-navy/70">
          Services √† domicile dans l'Oise, la Somme et Paris. Services digitaux dans toute la France.
        </p>
      </div>

      <!-- Digital services banner -->
      <div class="bg-gradient-to-r from-w4s-accent to-w4s-accent/80 rounded-2xl p-6 mb-12 text-white">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center">
              <span class="text-2xl">üåê</span>
            </div>
            <div>
              <h2 class="text-h4 font-semibold">Services digitaux : France enti√®re</h2>
              <p class="text-white/80">Cr√©ation de sites web et gestion SEO/ADS disponibles partout en France</p>
            </div>
          </div>
          <Button variant="secondary" href={url('/services/creation-site-web')}>
            En savoir plus
            <Icon name="arrow-right" size={18} />
          </Button>
        </div>
      </div>

      <!-- Map -->
      <div class="bg-w4s-concrete/20 rounded-3xl p-4 md:p-8 mb-12">
        <h2 class="text-h3 font-bold text-w4s-navy mb-6 text-center">
          Notre zone d'intervention principale
        </h2>
        <div class="w-full h-64 md:h-96 rounded-2xl overflow-hidden">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d653752.6394393426!2d2.0687779249999996!3d49.4169!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e7b4a5f9b7e16d%3A0x406651748c5fe30!2sOise!5e0!3m2!1sfr!2sfr!4v1704067200000!5m2!1sfr!2sfr"
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Carte des zones d'intervention W4S"
          ></iframe>
        </div>
        <p class="text-small text-w4s-navy/60 mt-4 text-center">
          Oise, Somme (Amiens), Paris et √éle-de-France
        </p>
      </div>

      <!-- Zones List -->
      <div class="mb-12">
        <h2 class="text-h2 font-bold text-w4s-navy mb-8 text-center">
          Services √† domicile
        </h2>
        <p class="text-body text-w4s-navy/70 text-center mb-8 max-w-2xl mx-auto">
          Bricolage, montage de meubles, √©lectricit√©, maintenance : nos interventions physiques sont disponibles dans les zones suivantes.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {zonesPhysiques.map((zone) => (
            <div class="bg-white rounded-2xl shadow-card p-6">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <Icon name="map-pin" size={24} class="text-w4s-accent" />
                  <h3 class="text-h4 font-semibold text-w4s-navy">
                    {zone.region}
                  </h3>
                </div>
              </div>

              {zone.urgency && (
                <span class="inline-flex px-2 py-1 bg-w4s-urgent/10 text-w4s-urgent text-small rounded-full font-medium mb-3">
                  Urgence disponible
                </span>
              )}

              <p class="text-small text-w4s-navy/60 mb-4">
                {zone.description}
              </p>

              <div class="flex flex-wrap gap-2">
                {zone.areas.map((area) => (
                  <span class="px-2 py-1 bg-w4s-concrete/30 text-w4s-navy text-small rounded-full">
                    {area}
                  </span>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Info boxes -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
        <div class="bg-w4s-accent/10 rounded-2xl p-6">
          <h3 class="text-h4 font-semibold text-w4s-navy mb-2 flex items-center gap-2">
            <Icon name="clock" size={20} class="text-w4s-accent" />
            D√©lais d'intervention
          </h3>
          <ul class="space-y-2 text-body text-w4s-navy/70">
            <li><strong>Urgence :</strong> Sous 2h dans l'Oise et Amiens</li>
            <li><strong>Standard :</strong> 24-48h selon disponibilit√©</li>
            <li><strong>Sur rendez-vous :</strong> Au cr√©neau de votre choix</li>
          </ul>
        </div>

        <div class="bg-w4s-success/10 rounded-2xl p-6">
          <h3 class="text-h4 font-semibold text-w4s-navy mb-2 flex items-center gap-2">
            <Icon name="check-circle" size={20} class="text-w4s-success" />
            D√©placement inclus
          </h3>
          <p class="text-body text-w4s-navy/70">
            Les frais de d√©placement sont inclus dans nos tarifs pour l'Oise et Amiens. Suppl√©ment possible pour Paris selon la distance.
          </p>
        </div>
      </div>

      <!-- CTA -->
      <div class="text-center bg-w4s-concrete/20 rounded-3xl p-8">
        <h2 class="text-h3 font-bold text-w4s-navy mb-4">
          Votre ville n'est pas list√©e ?
        </h2>
        <p class="text-body text-w4s-navy/70 mb-6">
          Contactez-nous pour v√©rifier si nous pouvons intervenir chez vous.
        </p>
        <Button variant="primary" href={url('/contact')}>
          V√©rifier ma zone
          <Icon name="arrow-right" size={18} />
        </Button>
      </div>
    </div>
  </section>

  <EmergencyBand />
</BaseLayout>
